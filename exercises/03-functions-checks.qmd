# Checks in functions

Checks in functions are used to ensure inputs and arguments are as expected,
to handle errors and to provide informative error messages to users. In this
workshop we are going to focus on writing checks with the function `stopifnot` because it is simple and succinct. It was recently improved in R 4.0.0 when the R development team added the option to provide a more informative error which will help us clearly communicate with our users (and ourselves). 

`stopifnot()` expects a logical statement that you are expecting to be true, and, if not, `stopifnot()` will throw an error. 

To build logical statements, you may find following list of functions useful:

- class checks
    - `is.integer`, `is.numeric`, `is.data.frame`, `is.character`
- nulls, NAs, NaNs
    - `is.null`, `is.na`, `is.nan`
- dimensions
    - `length`, `nrow`, `ncol`, `dim`
- equality, comparisons
    - `==` (equals)
    - `>`, `<`, `>=`, `<=` (less than, greater than, less than or equal to, greater than or equal to)
    - `identical`
- negation
    - `!`
- directories, files
    - `file.exists`
    - `dir`
    - `basename`, `dirname`


## Exercises: function checks

### Logical statements

Instruction: Write a series of logical statements for the following objects then consult the solution to check your work. Focus only on the logical statement for now, we'll use `stopifnot` in the following exercises. 

Number

- check if x is a numeric, integer, double
- check if x is of length 1
- check if x is greater than 0

```{r}
x <- 10
```

<details>
<summary>Show solution</summary>
```{r}
is.numeric(x)
is.integer(x)
is.double(x)

length(x) == 1

x > 0
```
</details>

Data.frame

- check if DF is a data.frame, list, matrix
- check if DF has two columns and three rows
- check if DF's column numbers is an integer, double, numeric

```{r}
DF <- data.frame(colors = c('red', 'green', 'blue'), numbers = c(42.1, 2L, 10))
```

<details>
<summary>Show solution</summary>
```{r}
is.data.frame(DF)
is.list(DF)
is.matrix(DF)

ncol(DF) == 2
nrow(DF) == 3

is.integer(DF$numbers)
is.double(DF$numbers)
is.numeric(DF$numbers)
```
</details>


